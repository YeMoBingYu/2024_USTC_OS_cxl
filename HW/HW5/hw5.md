# HW5
## PB21111686_赵卓
### 1.
- 内部碎片发生在固定内存分配的内存块内部。当给进程分配的内存块大小大于进程所需的内存时，该内存块中未被使用的部分就是内部碎片。
- 外部碎片发生在固定内存分配的多个内存块之间。由于内存块的非连续分配，存在很多未被分配的小内存块，他们加起来可以满足进程的内存大小需求，但是无法满足进程对内存连续性的需求，这些内存块是外部碎片。
- 差异：
  - 成因差异：
    - 内部碎片是由于固定大小的内存分配策略导致的。由于内存块大小固定，内部碎片的出现几乎不可避免。
    - 外部碎片是由于内存块分配策略不当导致的。在对内存块分配时没有连续分配或者大小分配不合理，导致出现很多小的内存块。
  - 表现形式：
    - 内部碎片只会影响特定的内存块，导致空间闲置。
    - 外部碎片可能影响进程的执行，由于内存块的分散，无法满足较大进程的需求。
  - 影响结果：
    - 内部碎片通常只会导致系统空间利用率的降低。
    - 外部碎片不仅导致系统空间利用率降低，还会影响系统的稳定性和进程的执行。这是因为由于内存块分散，可能对进程分配空间失败。
<br>

### 2.
- first-fit分配后形成新的12个分区，各分区大小及分配情况如下：
  | 分区1 | 分区2  | 分区3  | 分区4  | 分区5 | 分区6 | 分区7 | 分区8 |
  | :---: | :----: | :----: | :----: | :---: | :---: | :---: | :---: |
  | 15MB  |  75MB  |  10MB  |  80MB  | 90MB  | 40MB  | 200MB |  5MB  |
  |  P2   |   P4   |        |   P6   |       |       |  P1   |       |
  | 分区9 | 分区10 | 分区11 | 分区12 |
  | 185MB | 115MB  | 175MB  |  10MB  |
  |  P3   |        |   P5   |        |
- best-fit分配后形成新的11个分区，各分区大小及分配情况如下：
  | 分区1 | 分区2  | 分区3  | 分区4  | 分区5 | 分区6 | 分区7 | 分区8 |
  | :---: | :----: | :----: | :----: | :---: | :---: | :---: | :---: |
  | 75MB  |  25MB  |  170MB  |  15MB  | 25MB  | 200MB  | 5MB |  175MB  |
  |  P4   |      |        |   P2   |       |    P1   |     |    P5   |
  | 分区9 | 分区10 | 分区11 |
  | 80MB | 45MB  | 185MB  | 
  |     |        |   P3   | 
- worst-fit分配后形成新的11个分区，各分区大小及分配情况如下：
   | 分区1 | 分区2  | 分区3  | 分区4  | 分区5 | 分区6 | 分区7 | 分区8 |
  | :---: | :----: | :----: | :----: | :---: | :---: | :---: | :---: |
  | 100MB  |  80MB  |  90MB  |  40MB  | 15MB  | 185MB  | 5MB |  200MB  |
  |    |   P6   |        |      |  P2     | P3      |     |   P1    |
  | 分区9 | 分区10 | 分区11 |
  | 100MB | 75MB  | 110MB  | 
  |     |    P4    |      | 
- 由上述结果可知，worst-fit导致P5的请求失败
<br>

### 3.
- a).
  访问所需时间为50ns（访问页表耗时）+50ns（访问实际物理地址耗时）=100ns
- b).
  采取TLB情况下，耗时为75%×(50ns+2ns)+25%(50ns+50ns+2ns)=64.5ns
<br>

### 4.
- 实际地址为$0x07C0<<4+0x28=0x07C28$
- CS为$0x18$，因此指向GDT的第三项描述符。实际地址为$0x87654321+0x00000000=0x87654321$